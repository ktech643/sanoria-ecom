<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Dashboard - Sanoria.pk Admin</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="admin-body">
    <!-- Sidebar (same structure) -->
    <nav class="admin-sidebar">
        <div class="sidebar-header">
            <div class="logo-container">
                <img src="../images/logo.png" alt="Sanoria.pk" class="logo-img" onerror="this.style.display='none'">
                <span class="logo-text">Sanoria.pk</span>
            </div>
        </div>
        <div class="sidebar-content">
            <div class="admin-info">
                <div class="admin-avatar"><i class="fas fa-user-shield"></i></div>
                <div class="admin-details">
                    <h6 class="admin-name">Admin User</h6>
                    <span class="admin-role">Super Administrator</span>
                </div>
            </div>
            <ul class="sidebar-menu">
                <li class="menu-item"><a href="dashboard.html" class="menu-link"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a></li>
                <li class="menu-header">E-commerce</li>
                <li class="menu-item"><a href="products.html" class="menu-link"><i class="fas fa-box"></i><span>Products</span></a></li>
                <li class="menu-item"><a href="orders.html" class="menu-link"><i class="fas fa-shopping-cart"></i><span>Orders</span></a></li>
                <li class="menu-item"><a href="customers.html" class="menu-link"><i class="fas fa-users"></i><span>Customers</span></a></li>
                <li class="menu-item"><a href="categories.html" class="menu-link"><i class="fas fa-tags"></i><span>Categories</span></a></li>
                <li class="menu-item"><a href="inventory.html" class="menu-link"><i class="fas fa-warehouse"></i><span>Inventory</span></a></li>
                <li class="menu-header">Marketing</li>
                <li class="menu-item"><a href="coupons.html" class="menu-link"><i class="fas fa-percent"></i><span>Coupons</span></a></li>
                <li class="menu-item"><a href="reviews.html" class="menu-link"><i class="fas fa-star"></i><span>Reviews</span></a></li>
                <li class="menu-item"><a href="blog.html" class="menu-link"><i class="fas fa-blog"></i><span>Blog Posts</span></a></li>
                <li class="menu-header">Analytics</li>
                <li class="menu-item active"><a href="analytics.html" class="menu-link"><i class="fas fa-chart-line"></i><span>Analytics</span></a></li>
                <li class="menu-item"><a href="reports.html" class="menu-link"><i class="fas fa-file-alt"></i><span>Reports</span></a></li>
                <li class="menu-header">System</li>
                <li class="menu-item"><a href="settings.html" class="menu-link"><i class="fas fa-cog"></i><span>Settings</span></a></li>
                <li class="menu-item"><a href="users.html" class="menu-link"><i class="fas fa-user-cog"></i><span>Users</span></a></li>
                <li class="menu-item"><a href="../index.html" class="menu-link text-muted"><i class="fas fa-external-link-alt"></i><span>View Website</span></a></li>
                <li class="menu-item"><a href="../login.html" class="menu-link text-danger"><i class="fas fa-sign-out-alt"></i><span>Logout</span></a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="admin-main">
        <header class="admin-header">
            <div class="header-left">
                <h1 class="page-title"><i class="fas fa-chart-line me-2"></i>Analytics Dashboard</h1>
            </div>
            <div class="header-right">
                <div class="dropdown">
                    <button class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">
                        <i class="fas fa-calendar me-2"></i>Last 30 Days
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Last 7 Days</a></li>
                        <li><a class="dropdown-item" href="#">Last 30 Days</a></li>
                        <li><a class="dropdown-item" href="#">Last 90 Days</a></li>
                        <li><a class="dropdown-item" href="#">This Year</a></li>
                    </ul>
                </div>
            </div>
        </header>

        <div class="admin-content">
            <!-- Key Metrics -->
            <div class="row mb-4">
                <div class="col-xl-3 col-md-6 mb-3">
                    <div class="stats-card">
                        <div class="stats-icon bg-primary">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stats-content">
                            <h3>Rs. 125,450</h3>
                            <p>Total Revenue</p>
                            <small class="text-success"><i class="fas fa-arrow-up"></i> +12% from last month</small>
                        </div>
                    </div>
                </div>
                
                <div class="col-xl-3 col-md-6 mb-3">
                    <div class="stats-card">
                        <div class="stats-icon bg-success">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stats-content">
                            <h3>1,247</h3>
                            <p>Total Orders</p>
                            <small class="text-success"><i class="fas fa-arrow-up"></i> +8% from last month</small>
                        </div>
                    </div>
                </div>
                
                <div class="col-xl-3 col-md-6 mb-3">
                    <div class="stats-card">
                        <div class="stats-icon bg-info">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stats-content">
                            <h3>156</h3>
                            <p>New Customers</p>
                            <small class="text-success"><i class="fas fa-arrow-up"></i> +15% from last month</small>
                        </div>
                    </div>
                </div>
                
                <div class="col-xl-3 col-md-6 mb-3">
                    <div class="stats-card">
                        <div class="stats-icon bg-warning">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="stats-content">
                            <h3>3.2%</h3>
                            <p>Conversion Rate</p>
                            <small class="text-danger"><i class="fas fa-arrow-down"></i> -2% from last month</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charts Row -->
            <div class="row mb-4">
                <!-- Revenue Chart -->
                <div class="col-lg-8 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5>Revenue Trends</h5>
                        </div>
                        <div class="card-body">
                            <canvas id="revenueChart" height="100"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- Top Categories -->
                <div class="col-lg-4 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5>Top Categories</h5>
                        </div>
                        <div class="card-body">
                            <canvas id="categoriesChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Tables -->
            <div class="row">
                <div class="col-lg-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5>Top Selling Products</h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Product</th>
                                            <th>Sales</th>
                                            <th>Revenue</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Hydrating Facial Serum</td>
                                            <td>45</td>
                                            <td>Rs. 53,955</td>
                                        </tr>
                                        <tr>
                                            <td>Vitamin C Serum</td>
                                            <td>38</td>
                                            <td>Rs. 60,762</td>
                                        </tr>
                                        <tr>
                                            <td>Anti-Aging Night Cream</td>
                                            <td>32</td>
                                            <td>Rs. 60,768</td>
                                        </tr>
                                        <tr>
                                            <td>Gentle Daily Cleanser</td>
                                            <td>28</td>
                                            <td>Rs. 22,372</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5>Recent Activity</h5>
                        </div>
                        <div class="card-body">
                            <div class="activity-feed">
                                <div class="activity-item">
                                    <div class="activity-icon bg-success">
                                        <i class="fas fa-shopping-cart"></i>
                                    </div>
                                    <div class="activity-content">
                                        <p>New order #ORD004 received</p>
                                        <small class="text-muted">2 minutes ago</small>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon bg-info">
                                        <i class="fas fa-user-plus"></i>
                                    </div>
                                    <div class="activity-content">
                                        <p>New customer registered</p>
                                        <small class="text-muted">15 minutes ago</small>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon bg-warning">
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <div class="activity-content">
                                        <p>New product review posted</p>
                                        <small class="text-muted">1 hour ago</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="js/admin.js"></script>
    <script>
        // Initialize charts
        $(document).ready(function() {
            initRevenueChart();
            initCategoriesChart();
        });

        function initRevenueChart() {
            const ctx = document.getElementById('revenueChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Revenue',
                        data: [12000, 19000, 15000, 25000, 22000, 30000],
                        borderColor: 'rgb(75, 192, 192)',
                        backgroundColor: 'rgba(75, 192, 192, 0.1)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function initCategoriesChart() {
            const ctx = document.getElementById('categoriesChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Skincare', 'Serums', 'Cleansers', 'Moisturizers', 'Masks'],
                    datasets: [{
                        data: [30, 25, 20, 15, 10],
                        backgroundColor: [
                            '#FF6384',
                            '#36A2EB',
                            '#FFCE56',
                            '#4BC0C0',
                            '#9966FF'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true
                }
            });
        }
    </script>
</body>
</html>